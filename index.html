<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<title>Porori Mental HUD</title>

<style>
body {
  margin: 0;
  background: transparent;
  font-family: Arial, sans-serif;
}

/* ì „ì²´ HUD ë°•ìŠ¤ */
#hud {
  width: 420px;
}

/* ì´ë¦„ + ë¡œê³  */
#name {
  display: flex;
  align-items: center;
  gap: 10px;
  font-size: 32px;
  font-weight: bold;
  color: #ffff00; /* ë„¤ì˜¨ ë…¸ë‘ */
  margin-bottom: 10px;
}

#logo {
  width: 40px;
  height: 40px;
  object-fit: contain;
}

/* ë©˜íƒˆ ë°” ì»¨í…Œì´ë„ˆ */
#mental-container {
  width: 400px;
  height: 30px;
  border: 2px solid #ffffff;
  background: #111;
  margin-bottom: 5px;
}

/* ì‹¤ì œ ê²Œì´ì§€ */
#mental-bar {
  height: 100%;
  width: 100%;
  background: #00ff00;
  transition: width 0.1s linear, background 0.3s;
}

/* í¼ì„¼íŠ¸ í…ìŠ¤íŠ¸ */
#mental-text {
  color: #ffff00;
  font-size: 26px;
  font-weight: bold;
  margin-bottom: 8px;
}

/* ë²„íŠ¼ */
button {
  font-size: 18px;
  padding: 6px 12px;
  cursor: pointer;
}

/* 2ì´ˆ ê¹œë¹¡ì„ */
@keyframes blinkSlow {
  0% { opacity: 1; }
  50% { opacity: 0.2; }
  100% { opacity: 1; }
}

.blink-slow {
  animation: blinkSlow 2s infinite;
}

/* 1ì´ˆ ê¹œë¹¡ì„ */
@keyframes blinkFast {
  0% { opacity: 1; }
  50% { opacity: 0.2; }
  100% { opacity: 1; }
}

.blink-fast {
  animation: blinkFast 1s infinite;
}

</style>
</head>

<body>

<div id="hud">

  <div id="name">
    <img src="porori.png" id="logo">
    í¬ë¡œë¦¬ì™“ì°
  </div>

  <div id="mental-container">
    <div id="mental-bar"></div>
  </div>

  <div id="mental-text">100%</div>

  <button onclick="recoverMental()">ë©˜íƒˆ íšŒë³µ +10%</button>

</div>

<script>
let mental = 100;

/* 1ë¶„ë‹¹ 0.5% ê°ì†Œ */
const decreasePerMinute = 0.5;
const decreasePerSecond = decreasePerMinute / 60;
const decreasePerTick = decreasePerSecond / 10; // 0.1ì´ˆ ë‹¨ìœ„

const mentalBar = document.getElementById("mental-bar");
const mentalText = document.getElementById("mental-text");

function updateMental() {
  mental -= decreasePerTick;
  if (mental < 0) mental = 0;

  updateUI();

  if (mental <= 0) {
    clearInterval(loop);
    console.log("ë©˜íƒˆ ë¶•ê´´ ğŸ’€");
  }
}

function updateUI() {
  mentalBar.style.width = mental + "%";
  mentalText.innerText = mental.toFixed(2) + "%";

  mentalBar.classList.remove("blink-slow", "blink-fast");

  if (mental > 80) {
    mentalBar.style.background = "#00ff00";      // ì´ˆë¡
  } 
  else if (mental > 60) {
    mentalBar.style.background = "#66ff00";      // ì—°ë‘
  } 
  else if (mental > 40) {
    mentalBar.style.background = "#ffff00";      // ë…¸ë‘
  } 
  else if (mental > 20) {
    mentalBar.style.background = "#ff9900";      // ì£¼í™©
    mentalBar.classList.add("blink-slow");       // 2ì´ˆ ê¹œë¹¡ì„
  } 
  else {
    mentalBar.style.background = "#ff0000";      // ë¹¨ê°•
    mentalBar.classList.add("blink-fast");       // 1ì´ˆ ê¹œë¹¡ì„
  }
}

function recoverMental() {
  mental += 10;
  if (mental > 100) mental = 100;
  updateUI();
}

const loop = setInterval(updateMental, 100);
</script>

</body>
</html>
